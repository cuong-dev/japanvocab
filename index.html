<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc Ti·∫øng Nh·∫≠t Online</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-header">
            <h2 class="logo">JP Learning</h2>
        </div>
        
        <nav class="sidebar-nav">
            <ul>
                <li>
                    <a href="#" class="nav-link active" onclick="openTab(event, 'tab-tratu')">
                        üîç Tra t·ª´
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" onclick="openTab(event, 'tab-kanji')">
                        Â≠ó Kanji ƒë·∫°i c∆∞∆°ng
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" onclick="openTab(event, 'tab-sotay')">
                        üìí S·ªï tay
                    </a>
                </li>
            </ul>
        </nav>

        <div class="sidebar-footer">
            <p>&copy; 2024 MyWeb</p>
        </div>
    </aside>

    <main class="main-wrapper">
        <div class="content-container">

        <section id="tab-tratu" class="tab-content active">
                        
                        <div class="sticky-search-header">
                            <div class="search-box-wrapper">
                                <div class="header-row">
                                    <h1 class="page-title">ËæûÊõ∏ ‚Ä¢ T·ª´ ƒëi·ªÉn AI</h1>
                                    
                                    <div class="search-box">
                                        <input type="text" id="searchInput" 
                                            placeholder="Nh·∫≠p t·ª´ v·ª±ng (Vd: È£ü„Åπ„Çã)..." 
                                            onkeypress="handleEnter(event)">
                                        <button onclick="handleAISearch()">ü§ñ Tra AI</button>
                                    </div>
                                </div>

                                <div id="loadingSpinner" class="loading-msg" style="display:none;">
                                    <span class="spinner">‚è≥</span> ƒêang huy ƒë·ªông AI ph√¢n t√≠ch 16 m·ª•c d·ªØ li·ªáu...
                                </div>
                            </div>
                        </div>

                       

                        <div id="searchResultArea" style="display: none;">
                            
                            <div class="bento-container">

                                <div class="bento-item area-header">
                                    <div class="word-primary">
                                        <div class="w-jp">
                                                <span id="mainWord">
                                                    <ruby>È£ü<rt>„Åü</rt></ruby>„Åπ„Çã
                                                </span>
                                                <button class="btn-audio-mini" onclick="speakWord()">üîä</button>
                                        </div>
                                        <div class="w-tags">
                                            <span class="tag tag-pos editable">ƒê·ªông t·ª´ Nh√≥m 2</span>
                                            <span class="tag tag-jlpt editable">N5</span>
                                        </div>
                                    </div>
                                    
                                    <div class="word-meaning">
                                        <h2 class="editable">ƒÇn, d√πng b·ªØa</h2>
                                        <p class="editable">H√†nh ƒë·ªông ƒë∆∞a th·ª©c ƒÉn v√†o mi·ªáng, nhai v√† nu·ªët.</p>
                                    </div>
                                    <div class="card-toolbar" contenteditable="false">
                                        
                                        <button id="btnEdit" onclick="enableGlobalEdit()" class="tool-btn edit">
                                            ‚úèÔ∏è S·ª≠a
                                        </button>
                                        
                                        <button id="btnCancel" onclick="cancelEdit()" class="tool-btn cancel" style="display: none;">
                                            ‚úñ H·ªßy
                                        </button>

                                        <button id="btnSave" onclick="saveGlobalContent()" class="tool-btn save">
                                            üíæ L∆∞u
                                        </button>
                                        
                                    </div>
                                </div>

                                <div class="bento-item area-kanji">
                                    <h4 class="b-title">üß© Ph√¢n t√≠ch H√°n T·ª±</h4>
                                    <div class="kanji-box">
                                        <div class="k-char">È£ü</div>
                                        <div class="k-info">
                                            <div class="k-name">TH·ª∞C</div>
                                            
                                            <ul class="k-yomi">
                                                <li>
                                                    <span class="y-lbl kun">Ë®ì</span> 
                                                    ta(beru), ku(u)
                                                </li>
                                                <li>
                                                    <span class="y-lbl on">Èü≥</span> 
                                                    SHOKU, JIKI
                                                </li>
                                            </ul>
                                            </div>
                                    </div>
                                    <div class="mnemonic-box">
                                        <strong>üí° Ghi nh·ªõ:</strong>
                                        "Ng∆∞·ªùi (‰∫∫) t·ªët (ËâØ) th√¨ l∆∞∆°ng t√¢m thanh th·∫£n n√™n ƒÉn u·ªëng (È£ü) ngon mi·ªáng."
                                    </div>
                                </div>

                                <div class="bento-item area-grammar">
                                    <h4 class="b-title">‚öôÔ∏è C·∫•u tr√∫c & T·ª´ gia ƒë√¨nh</h4>
                                    <div class="grammar-grid">
                                        <div class="g-row">
                                            <span class="g-lbl">Tr·ª£ t·ª´:</span>
                                            <span class="g-val"><strong>„Çí</strong> (L√†m g√¨ ƒë√≥)</span>
                                        </div>
                                        <div class="g-row">
                                            <span class="g-lbl">T·ª±/Tha:</span>
                                            <div class="trans-pair">
                                                <span class="active">Tha: È£ü„Åπ„Çã</span> ‚Üî <span>T·ª±: È£ü„Åπ„Çâ„Çå„Çã</span>
                                            </div>
                                        </div>
                                        
                                        <div class="jukugo-section">
                                            <div class="jukugo-header">üà¥ T·ª´ gh√©p H√°n t·ª± (Jukugo)</div>
                                            <div class="jukugo-list">
                                                <span class="tag-jukugo" title="B·ªØa ƒÉn">È£ü‰∫ã (Shokuji)</span>
                                                <span class="tag-jukugo" title="Nh√† ƒÉn">È£üÂ†Ç (Shokudou)</span>
                                                <span class="tag-jukugo" title="Th·ª±c ph·∫©m">È£üÂìÅ (Shokuhin)</span>
                                                <span class="tag-jukugo" title="ƒÇn nh·∫π/ƒÇn v·∫∑t">ÈñìÈ£ü (Kanshoku)</span>
                                            </div>
                                        </div>

                                        <div class="g-row no-border">
                                            <span class="g-lbl">Bi·∫øn th·ªÉ:</span>
                                            <span class="g-val">È£ü„ÅπÁâ© (ƒê·ªì ƒÉn - N)</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="bento-item area-nuance">
                                    <h4 class="b-title">üé≠ S·∫Øc th√°i & K√≠nh ng·ªØ</h4>
                                    <div class="nuance-content">
                                        <p><strong>VƒÉn phong:</strong> <span class="badge-soft">M·ªÅm (H·ªôi tho·∫°i)</span></p>
                                        <div class="keigo-table">
                                            <div class="k-row">
                                                <span>‚¨ÜÔ∏è T√¥n k√≠nh:</span> 
                                                <strong>Âè¨„Åó‰∏ä„Åå„Çã</strong> (Meshiagaru)
                                            </div>
                                            <div class="k-row">
                                                <span>‚¨áÔ∏è Khi√™m nh∆∞·ªùng:</span> 
                                                <strong>„ÅÑ„Åü„Å†„Åè</strong> (Itadaku)
                                            </div>
                                        </div>
                                        <div class="mistake-alert">
                                            ‚ö†Ô∏è <strong>L·ªói sai:</strong> Kh√°c v·ªõi Âôõ„ÇÄ (C·∫Øn/Nhai).
                                        </div>
                                    </div>
                                </div>

                                <div class="bento-item area-examples">
                                    <h4 class="b-title">üìñ V√≠ d·ª• th·ª±c t·∫ø</h4>
                                    <ul class="example-list">
                                        <li>
                                            <p class="jp">ÊØéÊúù„ÄÅ„Éë„É≥„Çí<strong>È£ü„Åπ„Åæ„Åô</strong>„ÄÇ</p>
                                            <p class="vn">M·ªói s√°ng t√¥i ƒë·ªÅu ƒÉn b√°nh m√¨.</p>
                                        </li>
                                        <li>
                                            <p class="jp">Êó•Êú¨ÊñôÁêÜ„Çí<strong>È£ü„Åπ„Åü</strong>„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„Åã„ÄÇ</p>
                                            <p class="vn">B·∫°n ƒë√£ t·ª´ng ƒÉn m√≥n Nh·∫≠t ch∆∞a?</p>
                                        </li>
                                        <li>
                                            <p class="jp">„ÅäËÖπ„Åå„ÅÑ„Å£„Å±„ÅÑ„Åß„ÄÅ„ÇÇ„ÅÜ<strong>È£ü„Åπ„Çâ„Çå„Åæ„Åõ„Çì</strong>„ÄÇ</p>
                                            <p class="vn">B·ª•ng no qu√°, t√¥i kh√¥ng ƒÉn n·ªïi n·ªØa.</p>
                                        </li>
                                        <li>
                                            <p class="jp">‰∏ÄÁ∑í„Å´Êòº„ÅîÈ£Ø„Çí<strong>È£ü„Åπ„Çà„ÅÜ</strong>„ÄÇ</p>
                                            <p class="vn">C√πng ƒëi ƒÉn tr∆∞a nh√©.</p>
                                        </li>
                                        <li>
                                            <p class="jp">Â´å„ÅÑ„Å™„ÇÇ„ÅÆ„Åß„ÇÇ„ÄÅÊÆã„Åï„Åö<strong>È£ü„Åπ„Å™„Åï„ÅÑ</strong>„ÄÇ</p>
                                            <p class="vn">D√π l√† ƒë·ªì kh√¥ng th√≠ch c≈©ng h√£y ƒÉn h·∫øt ƒëi (ƒë·ª´ng b·ªè th·ª´a).</p>
                                        </li>
                                        <li>
                                            <p class="jp">„ÅÇ„Åù„Åì„Åß<strong>È£ü„Åπ„Å¶</strong>„ÅÑ„Çã‰∫∫„ÅØË™∞„Åß„Åô„Åã„ÄÇ</p>
                                            <p class="vn">Ng∆∞·ªùi ƒëang ƒÉn ·ªü ƒë·∫±ng kia l√† ai v·∫≠y?</p>
                                        </li>
                                    </ul>
                                </div>

                                <div class="bento-item area-colloc">
                                    <h4 class="b-title">üîó K·∫øt h·ª£p t·ª´</h4>
                                    <ul class="colloc-list">
                                        <li>Êúù„ÅîÈ£Ø„ÇíÈ£ü„Åπ„Çã (ƒÇn s√°ng)</li>
                                        <li>Â§ñÈ£ü„Åô„Çã (ƒÇn ti·ªám)</li>
                                        <li>ÁÆ∏„ÅßÈ£ü„Åπ„Çã (ƒÇn b·∫±ng ƒë≈©a)</li>
                                    </ul>
                                    
                                    <div class="synonym-antonym-box">
                                        <div class="sa-row">
                                            <span class="sa-label syn">üîÑ ƒê·ªìng nghƒ©a:</span>
                                            <ul class="sa-list">
                                                <li>È£ü„Çâ„ÅÜ (Th√¥ t·ª•c)</li>
                                                <li>ÊëÇ„Çã (D√πng b·ªØa)</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="sa-row">
                                            <span class="sa-label ant">‚ÜîÔ∏è Tr√°i nghƒ©a:</span>
                                            <ul class="sa-list">
                                                <li>Áµ∂È£ü„Åô„Çã (Tuy·ªát th·ª±c)</li>
                                                <li>Âêê„Åè (N√¥n ra)</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="bento-item area-conjugation">
                                    <details open> <summary>‚ö° B·∫£ng chia 12 th·ªÉ ƒë·ªông t·ª´</summary>
                                        <div class="conju-grid-full">
                                            <div class="cj-cell"><small>T·ª´ ƒëi·ªÉn („Çã)</small><b>È£ü„Åπ„Çã</b></div>
                                            <div class="cj-cell"><small>L·ªãch s·ª± („Åæ„Åô)</small><b>È£ü„Åπ„Åæ„Åô</b></div>
                                            <div class="cj-cell"><small>Ph·ªß ƒë·ªãnh („Å™„ÅÑ)</small><b>È£ü„Åπ„Å™„ÅÑ</b></div>
                                            <div class="cj-cell"><small>Qu√° kh·ª© („Åü)</small><b>È£ü„Åπ„Åü</b></div>
                                            <div class="cj-cell"><small>Ti·∫øp di·ªÖn („Å¶)</small><b>È£ü„Åπ„Å¶</b></div>
                                            <div class="cj-cell"><small>√ù ch√≠ („Çà„ÅÜ)</small><b>È£ü„Åπ„Çà„ÅÜ</b></div>
                                            <div class="cj-cell"><small>Kh·∫£ nƒÉng</small><b>È£ü„Åπ„Çâ„Çå„Çã</b></div>
                                            <div class="cj-cell"><small>B·ªã ƒë·ªông</small><b>È£ü„Åπ„Çâ„Çå„Çã</b></div>
                                            <div class="cj-cell"><small>Sai khi·∫øn</small><b>È£ü„Åπ„Åï„Åõ„Çã</b></div>
                                            <div class="cj-cell"><small>M·ªánh l·ªánh</small><b>È£ü„Åπ„Çç</b></div>
                                            <div class="cj-cell"><small>C·∫•m ch·ªâ</small><b>È£ü„Åπ„Çã„Å™</b></div>
                                            <div class="cj-cell"><small>Bƒê sai khi·∫øn</small><b>È£ü„Åπ„Åï„Åõ„Çâ„Çå„Çã</b></div>
                                        </div>
                                    </details>
                                </div>

                            </div> </div>
                    </section>

                    <section id="tab-kanji" class="tab-content" style="display: none;">
                        <header class="section-header">
                            <h1>2136 H√°n t·ª± th∆∞·ªùng d√πng</h1>
                        </header>

                        <div class="kanji-grid">
                            <div class="kanji-card">
                                <div class="k-char">Êó•</div>
                                <div class="k-meaning">M·∫∑t tr·ªùi/Ng√†y</div>
                                <div class="k-unyomi">hi</div>
                            </div>
                            <div class="kanji-card">
                                <div class="k-char">Êúà</div>
                                <div class="k-meaning">M·∫∑t trƒÉng/Th√°ng</div>
                                <div class="k-unyomi">tsuki</div>
                            </div>
                            <div class="kanji-card">
                                <div class="k-char">ÁÅ´</div>
                                <div class="k-meaning">L·ª≠a</div>
                                <div class="k-unyomi">hi</div>
                            </div>
                            <div class="kanji-card">
                                <div class="k-char">Ê∞¥</div>
                                <div class="k-meaning">N∆∞·ªõc</div>
                                <div class="k-unyomi">mizu</div>
                            </div>
                        </div>
                    </section>

                <section id="tab-sotay" class="tab-content" style="display: none;">
                    <div class="bulk-import-area">
                        <details>
                            <summary class="bulk-toggle">üöÄ Nh·∫≠p h√†ng lo·∫°t (Copy t·ª´ Excel/Notion)</summary>
                            <div class="bulk-content">
                                <textarea id="bulkInput" rows="8" placeholder="
                                B∆∞·ªõc 1: B·∫•m n√∫t 'M·ªü c√¥ng c·ª• AI' ƒë·ªÉ l·∫•y d·ªØ li·ªáu.
                                B∆∞·ªõc 2: D√°n k·∫øt qu·∫£ v√†o ƒë√¢y (M·ªói d√≤ng 1 t·ª´).
                                V√≠ d·ª•:
                                Èõ™ - yuki - Tuy·∫øt - N5
                                Ëä± - hana - Hoa - N5"></textarea>

                                <div class="bulk-actions">
                                    
                                    <a href="https://gemini.google.com/gem/1Ay9ZDF7vIcWXSi2-oN_9Q6pVhKxfoUiq?usp=sharing" target="_blank" class="link-ai-tool">
                                        <button type="button" class="btn-ai">
                                            ‚ú® M·ªü c√¥ng c·ª• AI
                                        </button>
                                    </a>

                                    <button onclick="processBulkImport()" class="btn-bulk">
                                        ‚ö° L∆∞u v√†o kho
                                    </button>
                                    
                                    <button onclick="clearBulk()" class="btn-clear">X√≥a</button>
                                </div>
                            </div>
                        </details>
                    </div>
                    <div class="user-input-area">
                        <h2 class="section-title">‚úçÔ∏è Th√™m t·ª´ m·ªõi v√†o kho</h2>
                        <form id="vocabForm" onsubmit="addVocab(event)">
                            <div class="input-grid">
                                <div class="input-group">
                                    <label>T·ª´ v·ª±ng ch√≠nh (Kanji / Katakana)</label>
                                    <input type="text" id="inpWord" placeholder="Vd: Áå´ ho·∫∑c „Ç±„Éº„Ç≠" required oninput="clearError()">
                                </div>
                                <div class="input-group">
                                    <label>C·∫•p ƒë·ªô (JLPT)</label>
                                    <select id="inpLevel">
                                        <option value="N5">N5 - S∆° c·∫•p 1</option>
                                        <option value="N4">N4 - S∆° c·∫•p 2</option>
                                        <option value="N3">N3 - Trung c·∫•p</option>
                                        <option value="N2">N2 - Th∆∞·ª£ng c·∫•p</option>
                                        <option value="N1">N1 - Cao c·∫•p</option>
                                    </select>
                                </div>

                                <div class="input-group">
                                    <label>C√°ch ƒë·ªçc (Hiragana / Romaji)</label>
                                    <input type="text" id="inpReading" placeholder="Vd: „Å≠„Åì (neko)" required>
                                </div>
                                <div class="input-group">
                                    <label>Nghƒ©a ti·∫øng Vi·ªát</label>
                                    <input type="text" id="inpMeaning" placeholder="Vd: Con m√®o" required>
                                </div>
                            </div>
                            <button type="submit" class="btn-save">üíæ L∆∞u v√†o s·ªï tay</button>
                        </form>
                    </div>

                    <div class="level-tabs">
                        <button class="lvl-btn active" onclick="filterLevel('ALL')">T·∫•t c·∫£</button>
                        <button class="lvl-btn" onclick="filterLevel('N5')">N5</button>
                        <button class="lvl-btn" onclick="filterLevel('N4')">N4</button>
                        <button class="lvl-btn" onclick="filterLevel('N3')">N3</button>
                        <button class="lvl-btn" onclick="filterLevel('N2')">N2</button>
                        <button class="lvl-btn" onclick="filterLevel('N1')">N1</button>
                    </div>

                    <div id="vocabList" class="user-vocab-grid"></div>

                </section>

        </div>
    </main>

    <script src="js/main.js"></script>
</body>
</html>